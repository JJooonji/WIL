# 2022.07.31의 WIL

## noSQL vs SQL
---
### 1. noSQL(비구조화 쿼리 언어)
> 관계형 데이터베이스를 뺀 나머지 유형을 총칭
#### 1) 특징
- NoSQL 데이터베이스(일명 “SQL만을 사용하지 않는 데이터베이스”)는 표 형식이 아니며, 관계형 테이블과는 다른 방식으로 데이터를 저장함.
- NoSQL 데이터베이스는 SQL 앞에 붙은 ‘No’에서 알 수 있듯이, 주로 데이터가 고정되어 있지 않은 데이터베이스를 가리킴.
- NoSQL 데이터베이스는 데이터 모델에 따라 유형이 다양함.
- 주요 유형으로는 문서, 키 값, 와이드 컬럼, 그래프가 있음.
- NoSQL이 SQL과 반대되는 개념처럼 사용된다고 해서, NoSQL에 스키마가 반드시 없는 것은 아님.
- 이들은 유연한 스키마를 제공하며, 대량의 데이터와 높은 사용자 부하에서도 손쉽게 확장이 가능함.
- 관계형 데이터베이스에서는 데이터를 입력할 때 스키마에 맞게 입력해야 하는 반면, NoSQL에서는 데이터를 읽어올 때 스키마에 따라 데이터를 읽어 옴.
  - 이런 방식을 ‘schema on read’라고도 함.
  - 읽어올 때에만 데이터 스키마가 사용된다고 하여, 데이터를 쓸 때 정해진 방식이 없다는 의미는 아님.
  - 데이터를 입력하는 방식에 따라, 데이터를 읽어올 때 영향을 미침.
#### 2) NoSQL 데이터베이스 유형
-  Key-Value 타입
-  문서형(Document) 데이터베이스
- Wide-Column Store 데이터베이스
- 그래프(Graph) 데이터베이스

<br>


### 2. SQL(구조화 쿼리 언어)
#### 1) 특징
- 관계형 데이터베이스는 고정된 행(row)과 열(column)로 구성된 테이블에 데이터를 저장함.
- 각 열은 하나의 속성에 대한 정보를 저장하고, 행에는 각 열의 데이터 형식에 맞는 데이터가 저장됨.
- 관계형 데이터베이스에서는 테이블의 구조와 데이터 타입 등을 사전에 정의함. 그리고 테이블에 정의된 내용에 알맞은 형태의 데이터만 삽입할 수 있음.
- 특정한 형식을 지키기 때문에, 데이터를 정확히 입력했다면 데이터를 사용할 때에는 매우 수월함.
#### 2) RDBMS(관계형 데이터베이스 관리 시스템)
> RDB를 생성, 수정, 관리할 수 있는 소프트웨어
- 특징
  - 테이블이 서로 연관되어 있어 일반 DBMS보다 효율적으로 데이터를 저장, 구성 및 관리할 수 있음.
  - 정규화를 통해 데이터의 중복성을 최소화하며 트랜잭션을 수행하는 것이 더 쉬움.
  - 데이터의 원자성, 일관성, 격리 및 내구성을 유지하며 데이터 무결성을 높임.
- 종류
  - MySQL
  - Oracle
  - SQLite
  - MariaDB
  - PostgresSQL

<br>


### 3. SQL 데이터베이스와 NoSQL 데이터베이스 차이점
#### 1) 데이터 저장(Storage)
- NoSQL은 key-value, document, wide-column, graph 등의 방식으로 데이터를 저장함.
- 관계형 데이터베이스는 SQL을 이용해서 데이터를 테이블에 저장함.
- 미리 작성된 스키마를 기반으로 정해진 형식에 맞게 데이터를 저장해야 함.
#### 2)  스키마(Schema)
- SQL을 사용하려면, 고정된 형식의 스키마가 필요함.
- 다시 말해, 처리하려는 데이터 속성별로 열(column)에 대한 정보를 미리 정해두어야 함.
- 스키마는 나중에 변경할 수 있지만, 이 경우 데이터베이스 전체를 수정하거나 오프라인(down-time)으로 전환할 필요가 있음.
- NoSQL은 관계형 데이터베이스보다 동적으로 스키마의 형태를 관리할 수 있음.
- 행을 추가할 때 즉시 새로운 열을 추가할 수 있고, 개별 속성에 대해서 모든 열에 대한 데이터를 반드시 입력하지 않아도 됨.
#### 3) 쿼리(Querying)
- 쿼리는 데이터베이스에 대해서 정보를 요청하는 질의문임.
- 관계형 데이터베이스는 테이블의 형식과 테이블간의 관계에 맞춰 데이터를 요청해야 함.
- 그래서 정보를 요청할 때, SQL과 같이 구조화된 쿼리 언어를 사용함.
- 비관계형 데이터베이스의 쿼리는 데이터 그룹 자체를 조회하는 것에 초점을 두고 있음.
- 그래서 구조화 되지 않은 쿼리 언어로도 데이터 요청이 가능함.
- UnQL(UnStructured Query Language)이라고 말하기도 함.
#### 4)  확장성(Scalability)
- 일반적으로 SQL 기반의 관계형 데이터베이스는 수직적으로 확장함.
- 높은 메모리, CPU를 사용하는 확장이라고도 함.
- 데이터베이스가 구축된 하드웨어의 성능을 많이 이용하기 때문에 비용이 많이 듬.
- 여러 서버에 걸쳐서 데이터베이스의 관계를 정의할 수 있지만, 매우 복잡하고 시간이 많이 소모됨.
- NoSQL로 구성된 데이터베이스는 수평적으로 확장함.
- 보다 값싼 서버 증설, 또는 클라우드 서비스 이용하는 확장이라고도 함.
- NoSQL 데이터베이스를 위한 서버를 추가적으로 구축하면, 많은 트래픽을 보다 편리하게 처리할 수 있음.
- 그리고 저렴한 범용 하드웨어나 클라우드 기반의 인스턴스에 NoSQL 데이터베이스를 호스팅할 수 있어서, 수직적 확장보다 상대적으로 비용이 저렴함.


<br>

##### <출처>
- https://hanamon.kr/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-sql-vs-nosql/
- https://m.blog.naver.com/cjhol2107/221758915414

---
> 이번주를 정리해보자.
### 노드 숙련
#### - 항해99 4주_주특기 숙련주차..
#### mongoose로 코드를 작성하는 것도 많은 오류를 거쳐서 마지막날 겨우 완성해냈는데 mysql.. sequelize는 또 무엇인가ㅠㅠ
#### 개인 과제가 주어졌을 때 처음에 어떻게 코드를 찍고 구성을 해야할지 감도 오지않았다.
#### 일단 주어진 학습자료와 강의를 보면서 mysql과 sequelize의 개념과 사용법에 대해 익히는 것부터 시작했다.
#### 자료를 다 보고나서도 처음부터 시퀄라이즈로 코드를 찍어갈 자신이 없어서.. 몽구스로 먼저 코드를 만들어놓고 나중에 시퀄라이즈로 바꿔보려고 생각했다.
#### 시작을 정하고 과제를 해가면서 마지막에는 '이거를 내가 다시 시퀄라이즈로 변경하고 mysql로 연결할 수 있을까..'라는 생각도 들어서 후회했지만ㅠ 과제 완성이 완벽하게 되지않더라고 두가지 방식을 다 해본 것이 나의 성장에 도움이 될 것이라고 생각해서 일단 직진을 했다..!
#### 1차 몽구스 코드에서 좋아요 기능부분은 완성하지 못하고 회원가입/로그인/게시글/댓글은 어느정도 작성이 되어서 이제 2차로 mysql에 db를 연결하고 시퀄라이즈로 코드를 바꿔나가기 시작했다.
#### 이렇게 저렇게 학습자료와 강의 내용을 보면서 코드를 변경해나가면서 굉장히 다양한 오류를 만났다..
#### 마이그레이션에서 타입이 integer가 아니라 number로 되어있어 sql문법의 오류도 나고, 경로 에러, 자잘한 오타 등등이 있었다.
#### 그 중에서도 나를 새벽4시까지 붙잡았던 오류는..
#### 로그인 토큰에러였다ㅠ 썬더클라이언트에서 경로를 입력하고 토큰을 받아와서 로그인을 하려고했지만, 계속 같은 에러가 떠서 로그인이 되지않았다.. 혼자 해당 에러를 다양하게 검색해봤지만, 도저히 해결이 안되서 팀원분들께도 코드를 보여드렸지만 결국 해결이 안됐었다..
#### 그러다 ' 아 정말 마지막으로 시도해보고 이것도 안되면 기술매니저님께 여쭤보자..'하면서 다시 혹시나? 하고했던 마지막 시도가 성공했다ㅠ
#### 문제가 무엇이었냐.. 썬더클라이언트에 경로를 입력하고 body에 유저 정보를 넣고 토큰을 가져와야 하는데 body에 유저 정보를 넣지않고 로그인 경로에서만 계속 요청을 보냈던 것이었다... 이러니 해당 유저에 대한 토큰이 제대로 안왔지ㅠㅠㅠ
#### 이 바보같은 실수를 새벽 4시가 다 되어서야 발견을 하고 아주 허탈한 마음으로 잠이 들었었다..
#### 하나가 지나가면 다른 오류가 나타나는 이 험난한 과제를 결국 완전히 끝내지는 못했지만.. 항해를 계속 해나가면서 이 과제를 꼭 완성시켜서 그때 내가 몰랐던 부분이 어떤 것이었는지 되짚어 보는 시간을 가져봐야겠다.
`우리 노드들 나가지 마요.. 우리 함께 힘을 내요ㅠ!!`